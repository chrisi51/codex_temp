lib.news-themenspecial = COA

lib.news-themenspecial {

    10 = TEXT
    10.value = No News ID was given (For Themenspecial)
}

# 109 = Themenspecial
#[request && (traverse(request.getQueryParams(), 'tx_news_pi1/news') > 0 || traverse(request.getParsedBody(), 'tx_news_pi1/news') > 0 || traverse(request.getQueryParams(), 'tx_news_pi1/news_preview') > 0 || traverse(request.getParsedBody(), 'tx_news_pi1/news_preview') > 0] && [109 in tree.rootLineIds || 295 in tree.rootLineIds)]
#[[traverse(request.getQueryParams(), 'tx_news_pi1/news') > 0 || traverse(request.getQueryParams(), 'tx_news_pi1/news_preview') > 0 ] && [109 in tree.rootLineIds || 295 in tree.rootLineIds]]
[request && ((traverse(request.getQueryParams(), 'tx_news_pi1/news') > 0 && (109 in tree.rootLineIds || 295 in tree.rootLineIds)) || (traverse(request.getQueryParams(), 'tx_news_pi1/news_preview') > 0 && (109 in tree.rootLineIds || 295 in tree.rootLineIds)))]
lib.news-themenspecial {
    10 = USER
    10 {

        userFunc = TYPO3\CMS\Extbase\Core\Bootstrap->run
        vendorName = GeorgRinger
        pluginName = NewsSelectedList
        extensionName = News

        view < plugin.tx_news.view
        persistence < plugin.tx_news.persistence
        settings < plugin.tx_news.settings

        settings {

            # Decide to show news in this view, even if they are implied in an Article with type of "Multi-Page"
            showImpliedInMultiPage = 1

            # detailPid = 28
            overrideFlexformSettingsIfEmpty := addToList(detailPid)

            # the value for "selectedList" is inserted via
            # an hook which reads the field "txWdvcustomerThemenspecialImpliedNews"
            # so we dont need to fill it here manually!
            # selectedList = 346, 605, 581, 407, 406, 386

            startingpoint = 189, 292, 324
            recursive = 250

            hidePagination = 1
            list.paginate >
            # list.paginate.itemsPerPage

            limit >

            # when using selectedList we need to empty order informations
            # to use editors sorting order
            orderBy = 
            orderDirection = 
            topNewsFirst = 0
            overrideFlexformSettingsIfEmpty = cropMaxCharacters,dateField,timeRestriction,backPid,listPid,startingpoint,recursive,list.paginate.itemsPerPage,list.paginate.templatePath

            excludeAlreadyDisplayedNews = 0
            disableOverrideDemand = 1

            templateLayout = 1
        }
    }
    wrap (

            |
    )
}
[global]
